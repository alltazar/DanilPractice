package danil;

import static java.lang.Math.abs;

public class MyHashMap {
    Object[] map = new Object[8];

    void set(Object key, int value){
        Pair p = new Pair(key, value);
        Bucket b = new Bucket();
        b.setPair(p);
        int index = abs(key.hashCode()) % map.length;
        map[index] = b.pair_;
    }

    Integer get(Object key){
        int index = abs(key.hashCode()) % map.length;
        Bucket b = new Bucket();
        b.pair_ = (Object[]) map[index];
        Integer in = null;
        for (int i=0; i< b.pair_.length; i++){
            Pair p = (Pair) b.pair_[i];
            if (p.key == key) in = p.value;
            break;
        }
        return in;
    }

    class Bucket{
        Object[] pair_ = new Object[8];

        void setPair(Pair pair){
            for (int i = 0; i < pair_.length; i++) {
                if (pair_[i] == null){
                    pair_[i] = pair;
                    break;
                }
            }
        }

        Object getPair(int i){
            return pair_[i];
        }

    }

    class Pair{

        Object key;
        int value;

        Pair(Object key, int value){
        this.key = key;
        this.value = value;
        }

        int getValue(){
            return value;
        }
    }
}
